
## Description

Enumeration is key <3

## Methods

### Practical scans in CTF

The oaf scan : 
```shell-session
sudo nmap -A -p- <ip>
```

Top 10 tcp ports scan : 
```
sudo nmap <ip> --top-ports=10
```

###   Practical scans in real life

#### Discovery of the hosts

Discover hosts with ICMP within an internal network (if the client machines ignore ICMP packets, then this command will not work) :
```shell-session
sudo nmap 192.168.1.0/24 -sn -oA tnet  --packet-trace --reason | grep for | cut -d" " -f5
```

ICMP with a list of IP addresses provided by the client (hosts.lst) :
```shell-session
sudo nmap 192.168.1.0/24 -sn -oA tnet -iL hosts.lst --packet-trace --reason | grep for | cut -d" " -f5
```

TCP scan, if accuracy is your priority (e.g. for network mapping) : 
```shell-session
sudo nmap 192.168.1.0/24 --disable-arp-ping -Pn -n --reason -sT 
```

TCP-SYN scan (furtive scan) :
```shell-session
sudo nmap -sS 192.168.1.0/24
 -n --disable-arp-ping --reason -Pn
```

UDP scan :
```shell-session
sudo nmap -sU 192.168.1.0/24
 -n --disable-arp-ping --reason -Pn
```
#### Bypass IDS/IPS & Firewall

If you want to understand how a target's firewall blocks you (in the case of filtered ports): 
```
sudo nmap 192.168.1.10  -p 21 --packet-trace -n --disable-arp-ping -Pn
```

#### Enumeration of services and versions

```shell-session
sudo nmap 192.168.1.10 -p- -sV -O
```

### Reporting

Sometimes it may be convenient to create an HTML report of the network for the client:
```shell-session
sudo nmap 192.168.1.0/24 --disable-arp-ping -Pn -n --reason -sT -p- -v -oA target
xsltproc target.xml -o target.html
```
### TTL

Windows = 128
Linux = 64
## Inspired by

- [HackTheBox - Network Enumeration with Nmap](https://academy.hackthebox.com/module/details/19)

## Tools

- Nmap